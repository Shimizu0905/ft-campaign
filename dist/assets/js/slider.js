const x=(t,n,s={})=>{const a=document.querySelectorAll(t);if(!a.length)return;const c=new IntersectionObserver((y,v)=>{for(const l of y)l.isIntersecting&&(n(l.target),v.unobserve(l.target))},s);a.forEach(y=>c.observe(y))};function $(){document.getElementById("features-swiper")&&x("#features-swiper",a=>{const c=a.closest("section")||a.parentElement;new Swiper(a,{loop:!0,speed:600,effect:"slide",grabCursor:!0,centeredSlides:!0,slidesPerView:1.15,spaceBetween:16,autoplay:{delay:4e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{el:c.querySelector(".p-features__dots"),clickable:!0,bulletClass:"swiper-pagination-bullet p-features__dot",bulletActiveClass:"swiper-pagination-bullet-active p-features__dot--active"},navigation:{nextEl:c.querySelector(".p-features__next"),prevEl:c.querySelector(".p-features__prev")},breakpoints:{768:{slidesPerView:1.2,spaceBetween:24}}})},{threshold:.1,rootMargin:"50px 0px"}),document.getElementById("voice-swiper")&&x("#voice-swiper",a=>{const c=a.closest("section")||a.parentElement;new Swiper(a,{loop:!0,speed:500,effect:"slide",grabCursor:!0,slidesPerView:1,spaceBetween:20,autoplay:{delay:5e3,disableOnInteraction:!1,pauseOnMouseEnter:!0},pagination:{el:c.querySelector(".p-voice__dots"),clickable:!0,bulletClass:"swiper-pagination-bullet p-voice__dot",bulletActiveClass:"swiper-pagination-bullet-active p-voice__dot--active"},navigation:{nextEl:c.querySelector(".p-voice__btn--next"),prevEl:c.querySelector(".p-voice__btn--prev")}})},{threshold:.1,rootMargin:"50px 0px"}),document.querySelector(".p-crew__slider")&&typeof jQuery<"u"&&jQuery.fn.slick&&x(".p-crew__slider",a=>{const c=jQuery(a),y=c.closest(".p-crew__inner").find(".p-crew__dots");c.slick({infinite:!0,speed:600,slidesToShow:1,slidesToScroll:1,centerMode:!0,centerPadding:"15%",autoplay:!0,autoplaySpeed:3500,pauseOnHover:!0,dots:!0,appendDots:y,arrows:!1,cssEase:"ease-in-out"}),window.crewSlider=c},{threshold:.1,rootMargin:"50px 0px"})}function W(t){if(t.dataset.sliderInit==="true")return;t.dataset.sliderInit="true";const n={loop:t.dataset.loop==="true",autoplay:parseInt(t.dataset.autoplay,10)||0,dots:t.dataset.dots==="true",nav:t.dataset.nav==="true",swipe:t.dataset.swipe!=="false",centerMode:t.dataset.centerMode==="true",centerPadding:t.dataset.centerPadding||"0px",firstSlideDelay:parseInt(t.dataset.firstSlideDelay,10)||0},s=t.querySelector("[data-slider-track]"),a=Array.from(t.querySelectorAll("[data-slider-slide]")),c=t.querySelector("[data-slider-prev]"),y=t.querySelector("[data-slider-next]"),v=t.querySelector("[data-slider-dots]");if(!s||a.length===0)return;const l=a.length;let i=0,o=0,h=!1,E=null;if(n.loop&&l>1){const e=a[0].cloneNode(!0),r=a[l-1].cloneNode(!0);e.classList.add("is-clone"),r.classList.add("is-clone"),e.removeAttribute("aria-current"),r.removeAttribute("aria-current"),s.appendChild(e),s.insertBefore(r,a[0]),i=1}function T(){if(n.centerMode){const d=t.offsetWidth,u=parseFloat(n.centerPadding)||0,p=n.centerPadding.includes("%")?d*parseFloat(n.centerPadding)/100:u;o=d-p*2}else o=t.offsetWidth;const e=s.querySelectorAll("[data-slider-slide]");e.forEach(d=>{d.style.width=`${o}px`,d.style.flexShrink="0"}),s.style.width=`${o*e.length}px`;const r=n.centerMode?-i*o+(t.offsetWidth-o)/2:-i*o;s.style.transition="none",s.style.transform=`translateX(${r}px)`,requestAnimationFrame(()=>{s.style.transition="transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)"})}function b(e){if(h)return;h=!0,i=e;const r=n.centerMode?-e*o+(t.offsetWidth-o)/2:-e*o;s.style.transition="transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)",s.style.transform=`translateX(${r}px)`,L()}function X(e){const r=n.centerMode?-e*o+(t.offsetWidth-o)/2:-e*o;s.style.transition="none",s.style.transform=`translateX(${r}px)`,i=e,L(),s.offsetWidth,requestAnimationFrame(()=>{s.style.transition="transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)",h=!1})}s.addEventListener("transitionend",e=>{if(e.propertyName==="transform"){if(n.loop&&l>1){if(i===0){X(l);return}if(i===l+1){X(1);return}}h=!1}});function A(){return!n.loop||l<=1?i:i===0?l-1:i===l+1?0:i-1}function L(){const e=A();v&&v.querySelectorAll("[data-slider-dot]").forEach((u,p)=>{u.classList.toggle("is-active",p===e),u.setAttribute("aria-current",p===e?"true":"false")}),s.querySelectorAll("[data-slider-slide]").forEach((d,u)=>{if(d.classList.contains("is-clone"))d.removeAttribute("aria-current");else{const g=n.loop&&l>1?u-1:u;d.setAttribute("aria-current",g===e?"true":"false")}})}function S(){(n.loop&&l>1||i<l-1)&&b(i+1),M()}function q(){(n.loop&&l>1||i>0)&&b(i-1),M()}function P(e){const r=n.loop&&l>1?e+1:e;b(r),M()}if(n.dots&&v){v.innerHTML="";for(let e=0;e<l;e++){const r=document.createElement("button");r.type="button",r.className="c-slider__dot",r.setAttribute("data-slider-dot",""),r.setAttribute("aria-label",`スライド ${e+1} へ移動`),r.addEventListener("click",()=>P(e)),v.appendChild(r)}}n.nav&&(c&&c.addEventListener("click",q),y&&y.addEventListener("click",S));function m(){if(!n.autoplay||n.autoplay<=0)return;w();const e=n.firstSlideDelay>0&&A()===0?n.firstSlideDelay:n.autoplay;E=setTimeout(()=>{S(),m()},e)}function w(){E&&(clearTimeout(E),E=null)}function M(){w(),m()}if(t.addEventListener("mouseenter",w),t.addEventListener("mouseleave",m),n.swipe){let p=function(){return n.centerMode?-i*o+(t.offsetWidth-o)/2:-i*o},g=function(f){h||(d=!0,e=f.type.includes("touch")?f.touches[0].clientX:f.clientX,r=e,u=p(),s.style.transition="none",w())},I=function(f){if(!d)return;r=f.type.includes("touch")?f.touches[0].clientX:f.clientX;const C=r-e;s.style.transform=`translateX(${u+C}px)`},_=function(){if(!d)return;d=!1;const f=r-e,C=o*.15;Math.abs(f)>C?(s.style.transition="transform 0.6s cubic-bezier(0.4, 0, 0.2, 1)",f>0?q():S()):(s.style.transition="transform 0.4s cubic-bezier(0.4, 0, 0.2, 1)",s.style.transform=`translateX(${p()}px)`,m())};var B=p,O=g,z=I,D=_;let e=0,r=0,d=!1,u=0;t.addEventListener("touchstart",g,{passive:!0}),t.addEventListener("touchmove",I,{passive:!0}),t.addEventListener("touchend",_,{passive:!0}),t.addEventListener("touchcancel",_,{passive:!0}),t.addEventListener("mousedown",g),document.addEventListener("mousemove",I),document.addEventListener("mouseup",_)}let k;window.addEventListener("resize",()=>{clearTimeout(k),k=setTimeout(T,150)}),T(),L(),m(),t.classList.add("is-slider-ready"),t.sliderAPI={goToNext:S,goToPrev:q,goToSlide:P,getRealIndex:A,pause:w,play:m}}document.addEventListener("DOMContentLoaded",()=>{$(),x("[data-slider]",W,{threshold:.1,rootMargin:"50px 0px"})});window.initSlider=W;
