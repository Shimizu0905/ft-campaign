@use "../../foundation/variables" as *;
@use "../../foundation/functions" as *;
@use "../../foundation/mixin" as *;

// ========================================
// スクロールインジケーター
// ========================================
.p-scroll-indicator {
  position: fixed;
  bottom: -20px;
  left: 50%;
  z-index: 100;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: 12px;
  transition: opacity 0.5s ease, visibility 0.5s ease;
  transform: translateX(-50%);
  pointer-events: none;

  @media (width <= 375px) {
    bottom: prem(40);
    gap: prem(12);
  }

  // スクロール後は非表示
  &.is-hidden {
    opacity: 0;
    visibility: hidden;
  }
}

.p-scroll-indicator__text {
  margin: 0;
  font-family: $font-family-en;
  font-size: 24px;
  font-weight: $font-weight-m;
  letter-spacing: 0.1em;
  color: $white;
  text-shadow: 0 1px 3px rgb(0 0 0 / 30%);

  @media (width <= 375px) {
    font-size: prem(12);
  }
}

.p-scroll-indicator__line {
  position: relative;
  width: 1px;
  height: 54px;
  margin-top: 8px;
  background-color: $white;

  @media (width <= 375px) {
    height: prem(40);
    margin-top: prem(8);
  }

  &::after {
    position: absolute;
    top: 100%;
    left: 50%;
    width: 5px;
    height: 5px;
    border-radius: 50%;
    box-shadow: 0 1px 3px rgb(0 0 0 / 30%);
    background-color: $white;
    transform: translateX(-50%) rotate(45deg);
    animation: scroll-indicator-move 1.4s cubic-bezier(0.77, 0, 0.175, 1) 0s infinite;
    content: '';

    @media (width <= 375px) {
      width: prem(6);
      height: prem(6);
    }
  }
}

// 下から上に一方通行で動くアニメーション
@keyframes scroll-indicator-move {
  0% {
    top: 100%;
    transform: translateX(-50%) rotate(45deg);
  }

  100% {
    top: -5%;
    transform: translateX(-50%) rotate(45deg);
  }
}

.p-scroll-indicator__dot {
  display: none; // 旧実装のため非表示
}
